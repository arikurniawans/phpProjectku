(function(c){var b=function(B,y){var o=c.extend({},c.fn.nivoSlider.defaults,y),n={currentSlide:0,currentImage:"",totalSlides:0,randAnim:"",running:false,paused:false,stop:false},q=c(B);q.data("nivo:vars",n);q.css("position","relative");q.addClass("nivoSlider");var m=q.children();m.each(function(){var e=c(this),f="";if(!e.is("img")){if(e.is("a")){e.addClass("nivo-imageLink");f=e}e=e.find("img:first")}var j=e.width();if(j==0){j=e.attr("width")}var g=e.height();if(g==0){g=e.attr("height")}j>q.width()&&q.width(j);g>q.height()&&q.height(g);f!=""&&f.css("display","none");e.css("display","none");n.totalSlides++});if(o.startSlide>0){if(o.startSlide>=n.totalSlides){o.startSlide=n.totalSlides-1}n.currentSlide=o.startSlide}n.currentImage=c(m[n.currentSlide]).is("img")?c(m[n.currentSlide]):c(m[n.currentSlide]).find("img:first");c(m[n.currentSlide]).is("a")&&c(m[n.currentSlide]).css("display","block");q.css("background",'url("'+n.currentImage.attr("src")+'") no-repeat');for(var i=0;i<o.slices;i++){var d=Math.round(q.width()/o.slices);i==o.slices-1?q.append(c('<div class="nivo-slice"></div>').css({left:d*i+"px",width:q.width()-d*i+"px"})):q.append(c('<div class="nivo-slice"></div>').css({left:d*i+"px",width:d+"px"}))}q.append(c('<div class="nivo-caption"><p></p></div>').css({display:"none",opacity:o.captionOpacity}));if(n.currentImage.attr("title")!=""){i=n.currentImage.attr("title");if(i.substr(0,1)=="#"){i=c(i).html()}c(".nivo-caption p",q).html(i);c(".nivo-caption",q).fadeIn(o.animSpeed)}var h=0;if(!o.manualAdvance&&m.length>1){h=setInterval(function(){a(q,m,o,false)},o.pauseTime)}if(o.directionNav){q.append('<div class="nivo-directionNav"><a class="nivo-prevNav">Prev</a><a class="nivo-nextNav">Next</a></div>');if(o.directionNavHide){c(".nivo-directionNav",q).hide();q.hover(function(){c(".nivo-directionNav",q).show()},function(){c(".nivo-directionNav",q).hide()})}c("a.nivo-prevNav",q).live("click",function(){if(n.running){return false}clearInterval(h);h="";n.currentSlide-=2;a(q,m,o,"prev")});c("a.nivo-nextNav",q).live("click",function(){if(n.running){return false}clearInterval(h);h="";a(q,m,o,"next")})}if(o.controlNav){d=c('<div class="nivo-controlNav"></div>');q.append(d);for(i=0;i<m.length;i++){if(o.controlNavThumbs){var A=m.eq(i);A.is("img")||(A=A.find("img:first"));o.controlNavThumbsFromRel?d.append('<a class="nivo-control" rel="'+i+'"><img src="'+A.attr("rel")+'" alt="" /></a>'):d.append('<a class="nivo-control" rel="'+i+'"><img src="'+A.attr("src").replace(o.controlNavThumbsSearch,o.controlNavThumbsReplace)+'" alt="" /></a>')}else{d.append('<a class="nivo-control" rel="'+i+'">'+(i+1)+"</a>")}}c(".nivo-controlNav a:eq("+n.currentSlide+")",q).addClass("active");c(".nivo-controlNav a",q).live("click",function(){if(n.running){return false}if(c(this).hasClass("active")){return false}clearInterval(h);h="";q.css("background",'url("'+n.currentImage.attr("src")+'") no-repeat');n.currentSlide=c(this).attr("rel")-1;a(q,m,o,"control")})}o.keyboardNav&&c(window).keypress(function(e){if(e.keyCode=="37"){if(n.running){return false}clearInterval(h);h="";n.currentSlide-=2;a(q,m,o,"prev")}if(e.keyCode=="39"){if(n.running){return false}clearInterval(h);h="";a(q,m,o,"next")}});o.pauseOnHover&&q.hover(function(){n.paused=true;clearInterval(h);h=""},function(){n.paused=false;if(h==""&&!o.manualAdvance){h=setInterval(function(){a(q,m,o,false)},o.pauseTime)}});q.bind("nivo:animFinished",function(){n.running=false;c(m).each(function(){c(this).is("a")&&c(this).css("display","none")});c(m[n.currentSlide]).is("a")&&c(m[n.currentSlide]).css("display","block");if(h==""&&!n.paused&&!o.manualAdvance){h=setInterval(function(){a(q,m,o,false)},o.pauseTime)}o.afterChange.call(this)});var x=function(e,f){var g=0;c(".nivo-slice",e).each(function(){var k=c(this),j=Math.round(e.width()/f.slices);g==f.slices-1?k.css("width",e.width()-j*g+"px"):k.css("width",j+"px");g++})},a=function(r,k,p,f){var l=r.data("nivo:vars");l&&l.currentSlide==l.totalSlides-1&&p.lastSlide.call(this);if((!l||l.stop)&&!f){return false}p.beforeChange.call(this);if(f){f=="prev"&&r.css("background",'url("'+l.currentImage.attr("src")+'") no-repeat');f=="next"&&r.css("background",'url("'+l.currentImage.attr("src")+'") no-repeat')}else{r.css("background",'url("'+l.currentImage.attr("src")+'") no-repeat')}l.currentSlide++;if(l.currentSlide==l.totalSlides){l.currentSlide=0;p.slideshowEnd.call(this)}if(l.currentSlide<0){l.currentSlide=l.totalSlides-1}l.currentImage=c(k[l.currentSlide]).is("img")?c(k[l.currentSlide]):c(k[l.currentSlide]).find("img:first");if(p.controlNav){c(".nivo-controlNav a",r).removeClass("active");c(".nivo-controlNav a:eq("+l.currentSlide+")",r).addClass("active")}if(l.currentImage.attr("title")!=""){var t=l.currentImage.attr("title");if(t.substr(0,1)=="#"){t=c(t).html()}c(".nivo-caption",r).css("display")=="block"?c(".nivo-caption p",r).fadeOut(p.animSpeed,function(){c(this).html(t);c(this).fadeIn(p.animSpeed)}):c(".nivo-caption p",r).html(t);c(".nivo-caption",r).fadeIn(p.animSpeed)}else{c(".nivo-caption",r).fadeOut(p.animSpeed)}var j=0;c(".nivo-slice",r).each(function(){var v=Math.round(r.width()/p.slices);c(this).css({height:"0px",opacity:"0",background:'url("'+l.currentImage.attr("src")+'") no-repeat -'+(v+j*v-v)+"px 0%"});j++});if(p.effect=="random"){k=["sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","slideInRight","slideInLeft"];l.randAnim=k[Math.floor(Math.random()*(k.length+1))];if(l.randAnim==undefined){l.randAnim="fade"}}if(p.effect.indexOf(",")!=-1){k=p.effect.split(",");l.randAnim=k[Math.floor(Math.random()*k.length)];if(l.randAnim==undefined){l.randAnim="fade"}}l.running=true;if(p.effect=="sliceDown"||p.effect=="sliceDownRight"||l.randAnim=="sliceDownRight"||p.effect=="sliceDownLeft"||l.randAnim=="sliceDownLeft"){var g=0;j=0;x(r,p);k=c(".nivo-slice",r);if(p.effect=="sliceDownLeft"||l.randAnim=="sliceDownLeft"){k=c(".nivo-slice",r)._reverse()}k.each(function(){var v=c(this);v.css({top:"0px"});j==p.slices-1?setTimeout(function(){v.animate({height:"100%",opacity:"1.0"},p.animSpeed,"",function(){r.trigger("nivo:animFinished")})},100+g):setTimeout(function(){v.animate({height:"100%",opacity:"1.0"},p.animSpeed)},100+g);g+=50;j++})}else{if(p.effect=="sliceUp"||p.effect=="sliceUpRight"||l.randAnim=="sliceUpRight"||p.effect=="sliceUpLeft"||l.randAnim=="sliceUpLeft"){j=g=0;x(r,p);k=c(".nivo-slice",r);if(p.effect=="sliceUpLeft"||l.randAnim=="sliceUpLeft"){k=c(".nivo-slice",r)._reverse()}k.each(function(){var v=c(this);v.css({bottom:"0px"});j==p.slices-1?setTimeout(function(){v.animate({height:"100%",opacity:"1.0"},p.animSpeed,"",function(){r.trigger("nivo:animFinished")})},100+g):setTimeout(function(){v.animate({height:"100%",opacity:"1.0"},p.animSpeed)},100+g);g+=50;j++})}else{if(p.effect=="sliceUpDown"||p.effect=="sliceUpDownRight"||l.randAnim=="sliceUpDown"||p.effect=="sliceUpDownLeft"||l.randAnim=="sliceUpDownLeft"){var s=j=g=0;x(r,p);k=c(".nivo-slice",r);if(p.effect=="sliceUpDownLeft"||l.randAnim=="sliceUpDownLeft"){k=c(".nivo-slice",r)._reverse()}k.each(function(){var v=c(this);if(j==0){v.css("top","0px");j++}else{v.css("bottom","0px");j=0}s==p.slices-1?setTimeout(function(){v.animate({height:"100%",opacity:"1.0"},p.animSpeed,"",function(){r.trigger("nivo:animFinished")})},100+g):setTimeout(function(){v.animate({height:"100%",opacity:"1.0"},p.animSpeed)},100+g);g+=50;s++})}else{if(p.effect=="fold"||l.randAnim=="fold"){j=g=0;x(r,p);c(".nivo-slice",r).each(function(){var v=c(this),w=v.width();v.css({top:"0px",height:"100%",width:"0px"});j==p.slices-1?setTimeout(function(){v.animate({width:w,opacity:"1.0"},p.animSpeed,"",function(){r.trigger("nivo:animFinished")})},100+g):setTimeout(function(){v.animate({width:w,opacity:"1.0"},p.animSpeed)},100+g);g+=50;j++})}else{if(p.effect=="fade"||l.randAnim=="fade"){var e=c(".nivo-slice:first",r);e.css({height:"100%",width:r.width()+"px"});e.animate({opacity:"1.0"},p.animSpeed*2,"",function(){r.trigger("nivo:animFinished")})}else{if(p.effect=="slideInRight"||l.randAnim=="slideInRight"){e=c(".nivo-slice:first",r);e.css({height:"100%",width:"0px",opacity:"1"});e.animate({width:r.width()+"px"},p.animSpeed*2,"",function(){r.trigger("nivo:animFinished")})}else{if(p.effect=="slideInLeft"||l.randAnim=="slideInLeft"){e=c(".nivo-slice:first",r);e.css({height:"100%",width:"0px",opacity:"1",left:"",right:"0px"});e.animate({width:r.width()+"px"},p.animSpeed*2,"",function(){e.css({left:"0px",right:""});r.trigger("nivo:animFinished")})}}}}}}}},u=function(e){this.console&&typeof console.log!="undefined"&&console.log(e)};this.stop=function(){if(!c(B).data("nivo:vars").stop){c(B).data("nivo:vars").stop=true;u("Stop Slider")}};this.start=function(){if(c(B).data("nivo:vars").stop){c(B).data("nivo:vars").stop=false;u("Start Slider")}};o.afterLoad.call(this)};c.fn.nivoSlider=function(a){return this.each(function(){var d=c(this);if(!d.data("nivoslider")){var e=new b(this,a);d.data("nivoslider",e)}})};c.fn.nivoSlider.defaults={effect:"random",slices:15,animSpeed:500,pauseTime:3000,startSlide:0,directionNav:true,directionNavHide:true,controlNav:true,controlNavThumbs:false,controlNavThumbsFromRel:false,controlNavThumbsSearch:".jpg",controlNavThumbsReplace:"_thumb.jpg",keyboardNav:true,pauseOnHover:true,manualAdvance:false,captionOpacity:0.8,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}};c.fn._reverse=[].reverse})(jQuery);